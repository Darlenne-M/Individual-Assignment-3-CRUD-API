# su25-jpa-crud-api
## Description
Simple CRUD API for Animal Objects with JPA (Hibernate)

### Version
1.0.0

## Installation
- Get the project
    - clone
        ```
      git clone https://github.com/uncg-csc340/su25-jpa-crud-api.git
        ```
    - OR download zip.
- Open the project in VS Code.
- This project is built to run with jdk 21.
- [Dependencies](https://github.com/uncg-csc340/su25-jpa-crud-api/blob/3149ec363e4aae4baebe6f755df7d4c2d79c9d2c/pom.xml#L32) to JPA and Postgres in addition to the usual Spring Web. JPA handles the persistence, Postgresql is the database to be used.
- [`/src/main/resources/application.properties`](https://github.com/uncg-csc340/su25-jpa-crud-api/blob/main/src/main/resources/application.properties) This file  is the configuration for the PostgreSQL database to use for the API.
  - You MUST have the database up and running before running the project!
    - Login to your neon.tech account.
    - Locate your database project.
    - On the project dashboard, click on "Connect" and select Java.
    - Copy the connection string provided.
    - Paste it as a value for the property `spring.datasource.url`. No quotation marks.
- Build and run the main class. You should see a new table created in the Neon database.

## API Endpoints
Base URL: [`http://localhost:8080/animals`](http://localhost:8080/animals)


1. ### [`/`](http://localhost:8080/animals) (GET)
Gets a list of all animals in the database.

#### Response - A JSON array of animals objects.

 ```
[
  {
    "dogId": 4,
    "name": "Bella",
    "description": "big, brown",
    "breed": "German Shepard",
    "age": 3.0
  },
  {
    "dogId": 5,
    "name": "Max",
    "description": "Small, brown",
    "breed": "Pitbull",
    "age": 9.0
  }
]
```

2. ### [`/{dogId}`](http://localhost:8080/animals/5) (GET)
Gets an individual animal in the system. Each animal is identified by a numeric `dogId`

#### Parameters
- Path Variable: `dogId` &lt;Long &gt; - REQUIRED

#### Response - A single Student

```
{
  "dogId": 5,
  "name": "Max",
  "description": "Small, brown",
  "breed": "Pitbull",
  "age": 9.0
}
```

3. ### [`/name`](http://localhost:8080/animals/name?key=Bella) (GET)
Gets a list of animals with a name that contains the given string.

#### Parameters
- query parameter: `search` &lt; String &gt; - REQUIRED

#### Response - A JSON array of animal objects.

```
[
  {
    "dogId": 4,
    "name": "Bella",
    "description": "big, brown",
    "breed": "German Shepard",
    "age": 3.0
  }
]
```

4. ### [`/breed/{breed}`](http://localhost:8080/animals/breed/Pitbull) (GET)
Gets a list of animals for a named breed.

#### Parameters
- path variable: `breed` &lt; String &gt; - REQUIRED

#### Response - A JSON array of animal objects.

```
[
  {
    "dogId": 5,
    "name": "Max",
    "description": "Small, brown",
    "breed": "Pitbull",
    "age": 9.0
  }
]
```
5. ### [`/age`](http://localhost:8080/animals/age?age=4) (GET)
Gets a list of animals with an age meeting the Threshold.

#### Parameters
- query parameter: `age` &lt;Double&gt; - REQUIRED

#### Response - A JSON array of Student objects.

```
[
  {
    "dogId": 5,
    "name": "Max",
    "description": "Small, brown",
    "breed": "Pitbull",
    "age": 9.0
  }
]
```
6. ### [`/`](http://localhost:8080/animals) (POST)
Create  a new animals entry

#### Request Body
A animal object. Note the object does not include an ID as this is autogenerated.
```
{
   "name":"Max",
  "description":"Small, brown",
  "breed":"Pitbull",
  "age":9
}
```
#### Response - The newly created Student.

```
[
  {
    "dogId": 4,
    "name": "Bella",
    "description": "big, brown",
    "breed": "German Shepard",
    "age": 3.0
  },
  {
    "dogId": 5,
    "name": "Max",
    "description": "Small, brown",
    "breed": "Pitbull",
    "age": 9.0
  }
]
```

7. ### [`/{dogId}`](http://localhost:8080/animals/4) (PUT)
Update an existing animal.

#### Parameters
- Path Variable: `dogId` &lt;integer&gt; - REQUIRED

#### Request Body
A dog object with the updates.
```
{
  "dogId": 4,
  "name": "Bella Updated",
  "description": "big, brown",
  "breed": "German Shepard",
  "age": 3.0
}
```
#### Response - the updated animal object.
```
{
  "dogId": 4,
  "name": "Bella Updated",
  "description": "big, brown",
  "breed": "German Shepard",
  "age": 3.0
}
```

8. ### [`/{dogId}`](http://localhost:8080/animals/4) (DELETE)
Delete an existing animal.

#### Parameters
- Path Variable: `dogId` &lt;integer&gt; - REQUIRED

#### Response - the updated list of animals.
```
[
  {
    "dogId": 5,
    "name": "Max",
    "description": "Small, brown",
    "breed": "Pitbull",
    "age": 9.0
  }
]
```
